CONTROLLERS (aka web)

Контроллер — связующее звено, соединяющее модели, виды и другие компоненты в рабочее приложение. Контроллер отвечает
за обработку запросов пользователя. Контроллер не должен содержать SQL-запросов. Их лучше держать в моделях. Контроллер
не должен содержать HTML и другой разметки. Её стоит выносить в виды.
В хорошо спроектированном MVC-приложении контроллеры обычно очень тонкие и содержат только несколько десятков строк кода.
Чего, не скажешь о Stupid Fat Controllers (SFC) в CMS Joomla. Логика контроллера довольно типична
и большая ее часть выносится в базовые классы.
Модели, наоборот, очень толстые и содержат большую часть кода, связанную с обработкой данных, т.к. структура данных
и бизнес-логика, содержащаяся в них, обычно довольно специфична для конкретного приложения.



Подход с множеством точек взаимодействия вы можете наблюдать на форумах с движком phpBB. Просмотр форума происходит
через сценарий viewforum.php, просмотр топика через viewtopic.php и т.д. Второй подход, с доступом через один физический
файл сценария, можно наблюдать в моей любимой CMS MODX, где все обращения проходят через index.php.

Эти два подхода совершенно различны. Первый — характерен для шаблона контроллер страниц (Page Controller),
а второй подход реализуется паттерном контроллер запросов (Front Controller). Контроллер страниц
хорошо применять для сайтов с достаточно простой логикой. В свою очередь, контроллер запросов объединяет все действия
по обработке запросов в одном месте, что даёт ему дополнительные возможности, благодаря которым можно реализовать
более трудные задачи, чем обычно решаются контроллером страниц. Я не буду вдаваться в подробности реализации
контроллера страниц, а скажу лишь, что в практической части будет разработан именно контроллер запросов (некоторое подобие).